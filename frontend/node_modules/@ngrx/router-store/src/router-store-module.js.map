{"version":3,"file":"router-store-module.js","sourceRoot":"","sources":["../../src/router-store-module.ts"],"names":[],"mappings":"OAAO,EAAE,QAAQ,EAAE,sBAAsB,EAAe,MAAM,eAAe;OACtE,EAAE,QAAQ,EAAE,MAAM,iBAAiB;OACnC,EAAE,MAAM,EAAE,MAAM,iBAAiB;OACjC,EAAE,UAAU,EAAE,KAAK,EAAU,MAAM,aAAa;OAGhD,EACL,4BAA4B,EAC5B,oBAAoB,EACpB,qBAAqB,EACtB,MAAM,WAAW;AAElB,iCACE,MAAc,EACd,QAAkB,EAClB,UAA8B,EAC9B,KAAiB;IAEjB,MAAM,CAAC;QACL,4BAA4B,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;QAC3D,oBAAoB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACpC,qBAAqB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IACvC,CAAC,CAAC;AACJ,CAAC;AAED;IACE,MAAM,CAAC;QACL,OAAO,EAAE,sBAAsB;QAC/B,IAAI,EAAE,CAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,KAAK,CAAE;QAC7C,UAAU,EAAE,gBAAgB;QAC5B,KAAK,EAAE,IAAI;KACZ,CAAC;AACJ,CAAC;AAGD;IAAA;IAeA,CAAC;IAdQ,+BAAa,GAApB;QACE,MAAM,CAAC;YACL,QAAQ,EAAE,iBAAiB;YAC3B,SAAS,EAAE;gBACT,sBAAsB,EAAE;aACzB;SACF,CAAC;IACJ,CAAC;IACI,4BAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,QAAQ,EAAE;KACjB,CAAC;IACF,kBAAkB;IACX,gCAAc,GAA6D,EACjF,CAAC;IACF,wBAAC;AAAD,CAAC,AAfD,IAeC","sourcesContent":["import { NgModule, APP_BOOTSTRAP_LISTENER, OpaqueToken } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { Dispatcher, Store, Action } from '@ngrx/store';\nimport { Observable } from 'rxjs/Observable';\n\nimport {\n  listenForRouterMethodActions,\n  connectRouterActions,\n  listenForStoreChanges\n} from './connect';\n\nexport function setupRouterStore(\n  router: Router,\n  location: Location,\n  dispatcher: Observable<Action>,\n  store: Store<any>\n) {\n  return () => {\n    listenForRouterMethodActions(router, location, dispatcher);\n    connectRouterActions(router, store);\n    listenForStoreChanges(router, store);\n  };\n}\n\nexport function provideRouterConnector() {\n  return {\n    provide: APP_BOOTSTRAP_LISTENER,\n    deps: [ Router, Location, Dispatcher, Store ],\n    useFactory: setupRouterStore,\n    multi: true\n  };\n}\n\n\nexport class RouterStoreModule {\n  static connectRouter() {\n    return {\n      ngModule: RouterStoreModule,\n      providers: [\n        provideRouterConnector()\n      ]\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule },\n];\n/** @nocollapse */\nstatic ctorParameters: ({type: any, decorators?: DecoratorInvocation[]}|null)[] = [\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}